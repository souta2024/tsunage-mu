<div class="container main-content-container">
  <div class="row main-content-row">
    <div class="main-content-col main-col-side">
      <h3 class="text-heading">～投稿フォーム～</h3>
      <%= form_with model: @post do |f| %>
        <div>
          <span class="text-title"><%= f.label :body, "投稿内容:" %></span><br>
          <%= f.text_area :body, { class: "post-text-area" }  %>
        </div>
        <div class="acction-bottons">
          <div class="checkbox-content is-draft-checkbox-content">
            <%= f.check_box :is_draft, checked: false %>
            <%= f.label :is_draft, class: "text-label checkbox-label is-draft-label" do %>
              <span>下書きにする</span>
            <% end %>
          </div>
          <div class="submit-btn post-submit">
            <%= f.submit "投稿する", class: "post-submit" %>
          </div>
        </div>
      <% end %>
    </div>
    <div class="main-content-col main-col-center">
      <h3 class="text-heading">～投稿一覧～</h3>
      <% @posts.each do |post| %>
        <div class="post-row">
          <div class="user-name">
            <span class="text-title">ユーザー名: </span>
            <%= link_to user_path(post.user.account_id), class: "content-link-black" do %>
              <span><strong><%= post.user.name %></strong></span>
            <% end %>
          </div>
          <div>
            <span class="text-title">投稿内容:</span><br>
            <%= link_to post_path(post.id), class: "content-link-black post-text-link" do %>
              <%= safe_join(post.body.split("\n").map { |line| h(line) }, tag(:br)) %>
            <% end %>
          </div>
          <div>
            <%= render "public/post_favorites/btn", post: post %>
          </div>
          <div>
            <% if post.post_histories.present? %>
              <span class="text-title">最終更新日時:</span>
              <%= link_to post_update_history_path(post.id), class: "history-link content-link-black" do %>
                <span class="history-datetime"><strong><%= l post.updated_at, format: :long %></strong></span>
              <% end %>
            <% end %>
          </div>
        </div>
      <% end %>
    </div>
    <div class="main-content-col main-col-side">
      <h3 class="text-heading">～投稿詳細～</h3>
    </div>
  </div>
</div>